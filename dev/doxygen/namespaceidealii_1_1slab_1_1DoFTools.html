<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Doxygen API reference documentation for ideal.II: idealii::slab::DoFTools Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxy_extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="idealii_logo_text_200.png"/></td>
  <td id="projectalign">
   <div id="projectname">Doxygen API reference documentation for ideal.II
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceidealii.html">idealii</a></li><li class="navelem"><a class="el" href="namespaceidealii_1_1slab.html">slab</a></li><li class="navelem"><a class="el" href="namespaceidealii_1_1slab_1_1DoFTools.html">DoFTools</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">idealii::slab::DoFTools Namespace Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Collection of functions working on degrees of freedom.  
<a href="namespaceidealii_1_1slab_1_1DoFTools.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8d352fab8b78f186d15cb5bfd1f62bf9" id="r_a8d352fab8b78f186d15cb5bfd1f62bf9"><td class="memTemplParams" colspan="2">template&lt;int dim&gt; </td></tr>
<tr class="memitem:a8d352fab8b78f186d15cb5bfd1f62bf9"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceidealii_1_1slab_1_1DoFTools.html#a8d352fab8b78f186d15cb5bfd1f62bf9">make_upwind_sparsity_pattern</a> (<a class="el" href="classidealii_1_1slab_1_1DoFHandler.html">DoFHandler</a>&lt; dim &gt; &amp;dof, dealii::DynamicSparsityPattern &amp;st_dsp, std::shared_ptr&lt; dealii::AffineConstraints&lt; double &gt; &gt; space_constraints=std::make_shared&lt; dealii::AffineConstraints&lt; double &gt; &gt;(), const bool keep_constrained_dofs=true)</td></tr>
<tr class="memdesc:a8d352fab8b78f186d15cb5bfd1f62bf9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construction of a sparsity pattern with lower off diagonal jump terms.  <br /></td></tr>
<tr class="separator:a8d352fab8b78f186d15cb5bfd1f62bf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa80541c091cd1881f3c53573610bdcf8" id="r_aa80541c091cd1881f3c53573610bdcf8"><td class="memTemplParams" colspan="2">template&lt;int dim&gt; </td></tr>
<tr class="memitem:aa80541c091cd1881f3c53573610bdcf8"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceidealii_1_1slab_1_1DoFTools.html#aa80541c091cd1881f3c53573610bdcf8">make_upwind_sparsity_pattern</a> (<a class="el" href="classidealii_1_1slab_1_1DoFHandler.html">DoFHandler</a>&lt; dim &gt; &amp;dof, const dealii::Table&lt; 2, dealii::DoFTools::Coupling &gt; &amp;space_couplings, dealii::DynamicSparsityPattern &amp;st_dsp, std::shared_ptr&lt; dealii::AffineConstraints&lt; double &gt; &gt; space_constraints=std::make_shared&lt; dealii::AffineConstraints&lt; double &gt; &gt;(), const bool keep_constrained_dofs=true)</td></tr>
<tr class="memdesc:aa80541c091cd1881f3c53573610bdcf8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construction of a sparsity pattern with lower off diagonal jump terms.  <br /></td></tr>
<tr class="separator:aa80541c091cd1881f3c53573610bdcf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa71ecdf56900c6defb1feaef67b7448a" id="r_aa71ecdf56900c6defb1feaef67b7448a"><td class="memTemplParams" colspan="2">template&lt;int dim&gt; </td></tr>
<tr class="memitem:aa71ecdf56900c6defb1feaef67b7448a"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceidealii_1_1slab_1_1DoFTools.html#aa71ecdf56900c6defb1feaef67b7448a">make_downwind_sparsity_pattern</a> (<a class="el" href="classidealii_1_1slab_1_1DoFHandler.html">DoFHandler</a>&lt; dim &gt; &amp;dof, dealii::DynamicSparsityPattern &amp;st_dsp, std::shared_ptr&lt; dealii::AffineConstraints&lt; double &gt; &gt; space_constraints=std::make_shared&lt; dealii::AffineConstraints&lt; double &gt; &gt;(), const bool keep_constrained_dofs=true)</td></tr>
<tr class="memdesc:aa71ecdf56900c6defb1feaef67b7448a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construction of a sparsity pattern with upper off diagonal jump terms.  <br /></td></tr>
<tr class="separator:aa71ecdf56900c6defb1feaef67b7448a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72156b433576f2e4bad6dc40ed6ee8a2" id="r_a72156b433576f2e4bad6dc40ed6ee8a2"><td class="memTemplParams" colspan="2">template&lt;int dim&gt; </td></tr>
<tr class="memitem:a72156b433576f2e4bad6dc40ed6ee8a2"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceidealii_1_1slab_1_1DoFTools.html#a72156b433576f2e4bad6dc40ed6ee8a2">make_downwind_sparsity_pattern</a> (<a class="el" href="classidealii_1_1slab_1_1DoFHandler.html">DoFHandler</a>&lt; dim &gt; &amp;dof, const dealii::Table&lt; 2, dealii::DoFTools::Coupling &gt; &amp;space_couplings, dealii::DynamicSparsityPattern &amp;st_dsp, std::shared_ptr&lt; dealii::AffineConstraints&lt; double &gt; &gt; space_constraints=std::make_shared&lt; dealii::AffineConstraints&lt; double &gt; &gt;(), const bool keep_constrained_dofs=true)</td></tr>
<tr class="memdesc:a72156b433576f2e4bad6dc40ed6ee8a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construction of a sparsity pattern with upper off diagonal jump terms.  <br /></td></tr>
<tr class="separator:a72156b433576f2e4bad6dc40ed6ee8a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ff79450571e4bc03d2788a648dc826c" id="r_a4ff79450571e4bc03d2788a648dc826c"><td class="memTemplParams" colspan="2">template&lt;int dim, typename Number &gt; </td></tr>
<tr class="memitem:a4ff79450571e4bc03d2788a648dc826c"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceidealii_1_1slab_1_1DoFTools.html#a4ff79450571e4bc03d2788a648dc826c">make_hanging_node_constraints</a> (<a class="el" href="classidealii_1_1slab_1_1DoFHandler.html">idealii::slab::DoFHandler</a>&lt; dim &gt; &amp;dof_handler, std::shared_ptr&lt; dealii::AffineConstraints&lt; Number &gt; &gt; spacetime_constraints)</td></tr>
<tr class="memdesc:a4ff79450571e4bc03d2788a648dc826c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construction of space-time hanging node constraints.  <br /></td></tr>
<tr class="separator:a4ff79450571e4bc03d2788a648dc826c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5b4ffe4aaef645a85db5c88a4cfec54" id="r_ab5b4ffe4aaef645a85db5c88a4cfec54"><td class="memTemplParams" colspan="2">template&lt;int dim, typename Number &gt; </td></tr>
<tr class="memitem:ab5b4ffe4aaef645a85db5c88a4cfec54"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceidealii_1_1slab_1_1DoFTools.html#ab5b4ffe4aaef645a85db5c88a4cfec54">make_hanging_node_constraints</a> (dealii::IndexSet &amp;space_relevant_dofs, <a class="el" href="classidealii_1_1slab_1_1DoFHandler.html">idealii::slab::DoFHandler</a>&lt; dim &gt; &amp;dof_handler, std::shared_ptr&lt; dealii::AffineConstraints&lt; Number &gt; &gt; spacetime_constraints)</td></tr>
<tr class="memdesc:ab5b4ffe4aaef645a85db5c88a4cfec54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construction of parallel distributed space-time hanging node constraints.  <br /></td></tr>
<tr class="separator:ab5b4ffe4aaef645a85db5c88a4cfec54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a067979aa8ff73f04949776f2170bfa" id="r_a1a067979aa8ff73f04949776f2170bfa"><td class="memTemplParams" colspan="2">template&lt;int dim&gt; </td></tr>
<tr class="memitem:a1a067979aa8ff73f04949776f2170bfa"><td class="memTemplItemLeft" align="right" valign="top">dealii::IndexSet&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespaceidealii_1_1slab_1_1DoFTools.html#a1a067979aa8ff73f04949776f2170bfa">extract_locally_relevant_dofs</a> (<a class="el" href="classidealii_1_1slab_1_1DoFHandler.html">slab::DoFHandler</a>&lt; dim &gt; &amp;dof_handler)</td></tr>
<tr class="memdesc:a1a067979aa8ff73f04949776f2170bfa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extract global space-time dof indices active on the current <a class="el" href="classidealii_1_1slab_1_1DoFHandler.html" title="Actual DoFHandler for a specific slab.">DoFHandler</a>.  <br /></td></tr>
<tr class="separator:a1a067979aa8ff73f04949776f2170bfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Collection of functions working on degrees of freedom. </p>
<p>These functions provide utilities for calculating spacetime variants of normally stationary objects provided by deal.II.</p>
<p>In detail this means spreading stationary information over all temporal degrees of freedom in this slab. Examples are:</p><ul>
<li>Offsetting hanging node constraints to each temporal dof.</li>
<li>Building tensor products of spatial and temporal sparsity patterns to obtain a spacetime pattern </li>
</ul>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a1a067979aa8ff73f04949776f2170bfa" name="a1a067979aa8ff73f04949776f2170bfa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a067979aa8ff73f04949776f2170bfa">&#9670;&#160;</a></span>extract_locally_relevant_dofs()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int dim&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">dealii::IndexSet idealii::slab::DoFTools::extract_locally_relevant_dofs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classidealii_1_1slab_1_1DoFHandler.html">slab::DoFHandler</a>&lt; dim &gt; &amp;&#160;</td>
          <td class="paramname"><em>dof_handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Extract global space-time dof indices active on the current <a class="el" href="classidealii_1_1slab_1_1DoFHandler.html" title="Actual DoFHandler for a specific slab.">DoFHandler</a>. </p>
<p>For DoFHandlers with a parallel triangulation this function returns the locally owned dofs and all dofs belonging to other processors that are located at a locally owned cell.s </p>

</div>
</div>
<a id="a72156b433576f2e4bad6dc40ed6ee8a2" name="a72156b433576f2e4bad6dc40ed6ee8a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72156b433576f2e4bad6dc40ed6ee8a2">&#9670;&#160;</a></span>make_downwind_sparsity_pattern() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int dim&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void idealii::slab::DoFTools::make_downwind_sparsity_pattern </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classidealii_1_1slab_1_1DoFHandler.html">DoFHandler</a>&lt; dim &gt; &amp;&#160;</td>
          <td class="paramname"><em>dof</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const dealii::Table&lt; 2, dealii::DoFTools::Coupling &gt; &amp;&#160;</td>
          <td class="paramname"><em>space_couplings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dealii::DynamicSparsityPattern &amp;&#160;</td>
          <td class="paramname"><em>st_dsp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; dealii::AffineConstraints&lt; double &gt; &gt;&#160;</td>
          <td class="paramname"><em>space_constraints</em> = <code>std::make_shared&lt;dealii::AffineConstraints&lt;double&gt;&gt;()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>keep_constrained_dofs</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construction of a sparsity pattern with upper off diagonal jump terms. </p>
<p>This functions works like the previous one but the spatial pattern is constructed using the supplied couplings. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">space_couplings</td><td>In coupled problems some components don't couple in the weak formulation and consequently don't needs entries in the sparsity pattern.</td></tr>
  </table>
  </dd>
</dl>
<p>An example would be the Stokes system where pressure ansatz function is not multiplied by the pressure test function, which leads to an empty diagonal block. </p>

</div>
</div>
<a id="aa71ecdf56900c6defb1feaef67b7448a" name="aa71ecdf56900c6defb1feaef67b7448a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa71ecdf56900c6defb1feaef67b7448a">&#9670;&#160;</a></span>make_downwind_sparsity_pattern() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int dim&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void idealii::slab::DoFTools::make_downwind_sparsity_pattern </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classidealii_1_1slab_1_1DoFHandler.html">DoFHandler</a>&lt; dim &gt; &amp;&#160;</td>
          <td class="paramname"><em>dof</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dealii::DynamicSparsityPattern &amp;&#160;</td>
          <td class="paramname"><em>st_dsp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; dealii::AffineConstraints&lt; double &gt; &gt;&#160;</td>
          <td class="paramname"><em>space_constraints</em> = <code>std::make_shared&lt;dealii::AffineConstraints&lt;double&gt;&gt;()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>keep_constrained_dofs</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construction of a sparsity pattern with upper off diagonal jump terms. </p>
<p>This functions constructs the tensor product between a spatial sparsity pattern and a temporal upwind sparsity.</p>
<p>The spatial pattern is constructed by calling the function make_sparsity_pattern() with the spatial <a class="el" href="classidealii_1_1slab_1_1DoFHandler.html" title="Actual DoFHandler for a specific slab.">DoFHandler</a> of <code>dof</code>, the <code>space_contraints</code> and <code>keep_constrained_dofs</code>.</p>
<p>The temporal pattern is initially constructed as a block-diagonal sparsity pattern by the corresponding deal.II method for the temporal <a class="el" href="classidealii_1_1slab_1_1DoFHandler.html" title="Actual DoFHandler for a specific slab.">DoFHandler</a> of <code>dof</code>. If the number of temporal elements in this slab is greater than one, additional off diagonal entries for the jump terms between a temporal element and its direct right/later neighbor are added.</p>
<p>For Gauss-Lobatto support points in time this is only a coupling between the final temporal dof of the current element and the initial temporal dof of the neighbor.</p>
<p>For Gauss-Legendre support points in time this is the complete first upper off diagonal block.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dof</td><td>A shared pointer to the <a class="el" href="classidealii_1_1slab_1_1DoFHandler.html" title="Actual DoFHandler for a specific slab.">DoFHandler</a> object to base the patterns on. </td></tr>
    <tr><td class="paramname">st_dsp</td><td>The dynamic sparsity pattern that will afterwards include the spacetime pattern. </td></tr>
    <tr><td class="paramname">space_constraints</td><td>The spatial constraints handed to the spatial pattern function </td></tr>
    <tr><td class="paramname">keep_constrained_dofs</td><td>When using distribute_local_to_global() of the spacetime constraints off diagonal entries of constrained dofs will not be written. So it is possible to not include these in the sparsity pattern. For more details see the functions in the dealii::DoFTools namespace. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab5b4ffe4aaef645a85db5c88a4cfec54" name="ab5b4ffe4aaef645a85db5c88a4cfec54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5b4ffe4aaef645a85db5c88a4cfec54">&#9670;&#160;</a></span>make_hanging_node_constraints() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int dim, typename Number &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void idealii::slab::DoFTools::make_hanging_node_constraints </td>
          <td>(</td>
          <td class="paramtype">dealii::IndexSet &amp;&#160;</td>
          <td class="paramname"><em>space_relevant_dofs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classidealii_1_1slab_1_1DoFHandler.html">idealii::slab::DoFHandler</a>&lt; dim &gt; &amp;&#160;</td>
          <td class="paramname"><em>dof_handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; dealii::AffineConstraints&lt; Number &gt; &gt;&#160;</td>
          <td class="paramname"><em>spacetime_constraints</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construction of parallel distributed space-time hanging node constraints. </p>
<p>This function internally constructs spatial hanging node constraints based on the spatial part of @dof_handler.</p>
<p>The spacetime constraints are then obtained by offsetting the constraints by the total number of dofs in the spatial dof handler.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dof_handler</td><td></td></tr>
    <tr><td class="paramname">spacetime_constraints</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4ff79450571e4bc03d2788a648dc826c" name="a4ff79450571e4bc03d2788a648dc826c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ff79450571e4bc03d2788a648dc826c">&#9670;&#160;</a></span>make_hanging_node_constraints() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int dim, typename Number &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void idealii::slab::DoFTools::make_hanging_node_constraints </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classidealii_1_1slab_1_1DoFHandler.html">idealii::slab::DoFHandler</a>&lt; dim &gt; &amp;&#160;</td>
          <td class="paramname"><em>dof_handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; dealii::AffineConstraints&lt; Number &gt; &gt;&#160;</td>
          <td class="paramname"><em>spacetime_constraints</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construction of space-time hanging node constraints. </p>
<p>This function internally constructs spatial hanging node constraints based on the spatial part of @dof_handler.</p>
<p>The spacetime constraints are then obtained by offsetting the constraints by the total number of dofs in the spatial dof handler.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dof_handler</td><td></td></tr>
    <tr><td class="paramname">spacetime_constraints</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa80541c091cd1881f3c53573610bdcf8" name="aa80541c091cd1881f3c53573610bdcf8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa80541c091cd1881f3c53573610bdcf8">&#9670;&#160;</a></span>make_upwind_sparsity_pattern() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int dim&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void idealii::slab::DoFTools::make_upwind_sparsity_pattern </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classidealii_1_1slab_1_1DoFHandler.html">DoFHandler</a>&lt; dim &gt; &amp;&#160;</td>
          <td class="paramname"><em>dof</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const dealii::Table&lt; 2, dealii::DoFTools::Coupling &gt; &amp;&#160;</td>
          <td class="paramname"><em>space_couplings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dealii::DynamicSparsityPattern &amp;&#160;</td>
          <td class="paramname"><em>st_dsp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; dealii::AffineConstraints&lt; double &gt; &gt;&#160;</td>
          <td class="paramname"><em>space_constraints</em> = <code>std::make_shared&lt;dealii::AffineConstraints&lt;double&gt;&gt;()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>keep_constrained_dofs</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construction of a sparsity pattern with lower off diagonal jump terms. </p>
<p>This functions works like the previous one butthe spatial pattern is constructed using the supplied couplings. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">space_couplings</td><td>In coupled problems some components don't couple in the weak formulation and consequently don't needs entries in the sparsity pattern.</td></tr>
  </table>
  </dd>
</dl>
<p>An example would be the Stokes system where pressure ansatz function is not multiplied by the pressure test function, which leads to an empty diagonal block. </p>

</div>
</div>
<a id="a8d352fab8b78f186d15cb5bfd1f62bf9" name="a8d352fab8b78f186d15cb5bfd1f62bf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d352fab8b78f186d15cb5bfd1f62bf9">&#9670;&#160;</a></span>make_upwind_sparsity_pattern() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int dim&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void idealii::slab::DoFTools::make_upwind_sparsity_pattern </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classidealii_1_1slab_1_1DoFHandler.html">DoFHandler</a>&lt; dim &gt; &amp;&#160;</td>
          <td class="paramname"><em>dof</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dealii::DynamicSparsityPattern &amp;&#160;</td>
          <td class="paramname"><em>st_dsp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; dealii::AffineConstraints&lt; double &gt; &gt;&#160;</td>
          <td class="paramname"><em>space_constraints</em> = <code>std::make_shared&lt;dealii::AffineConstraints&lt;double&gt;&gt;()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>keep_constrained_dofs</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construction of a sparsity pattern with lower off diagonal jump terms. </p>
<p>This functions constructs the tensor product between a spatial sparsity pattern and a temporal upwind sparsity.</p>
<p>The spatial pattern is constructed by calling the function make_sparsity_pattern() with the spatial <a class="el" href="classidealii_1_1slab_1_1DoFHandler.html" title="Actual DoFHandler for a specific slab.">DoFHandler</a> of <code>dof</code>, the <code>space_contraints</code> and <code>keep_constrained_dofs</code>.</p>
<p>The temporal pattern is initially constructed as a block-diagonal sparsity pattern by the corresponding deal.II method for the temporal <a class="el" href="classidealii_1_1slab_1_1DoFHandler.html" title="Actual DoFHandler for a specific slab.">DoFHandler</a> of <code>dof</code>. If the number of temporal elements in this slab is greater than one, additional off diagonal entries for the jump terms between a temporal element and its direct left/earlier neighbor are added.</p>
<p>For Gauss-Lobatto support points in time this is only a coupling between the initial temporal dof of the current element and the final temporal dof of the neighbor.</p>
<p>For Gauss-Legendre support points in time this is the complete first lower off diagonal block.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dof</td><td>A shared pointer to the <a class="el" href="classidealii_1_1slab_1_1DoFHandler.html" title="Actual DoFHandler for a specific slab.">DoFHandler</a> object to base the patterns on. </td></tr>
    <tr><td class="paramname">st_dsp</td><td>The dynamic sparsity pattern that will afterwards include the spacetime pattern. </td></tr>
    <tr><td class="paramname">space_constraints</td><td>The spatial constraints handed to the spatial pattern function </td></tr>
    <tr><td class="paramname">keep_constrained_dofs</td><td>When using distribute_local_to_global() of the spacetime constraints off diagonal entries of constrained dofs will not be written. So it is possible to not include these in the sparsity pattern. For more details see the functions in the dealii::DoFTools namespace. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
